<!doctype html>
    <html lang="en-US" id="template-post" class="base">
        <head>
        
            <!-- Sub Template: post -->
        
        
            <meta charset="utf-8" />
            <meta http-equiv="X-UA-Compatible" content="IE=edge" />
            <title>Hello World Devblog - Pt. 9</title>
            <link href="https://fightwithtools.dev/assets/prism-okaidia.css" rel="preload" as="style" />
            <link href="https://fightwithtools.dev/assets/prism-okaidia.css" rel="stylesheet" />
            <link rel="stylesheet" href="https://fightwithtools.dev/assets/css/style.css?v=1182507233" />
            
                <link rel="stylesheet" href="https://fightwithtools.dev/assets/css/template-post.css?v=1182507233" />
            
            <!-- Build Revision: 1182507233 & Sha: 10a27dda8e0d2f2b1790f4a2091725b62c819f49 -->
            <script src="https://fightwithtools.dev/assets/js/scale.fix.js"></script>
            <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
            <!--[if lt IE 9]>
                <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
            <![endif]-->
        
        
        
        </head>
        <body>
            <div class="wrapper">
                <header>
                    
                        
                            <div id="site-name-subhead">
                                <a href="https://fightwithtools.dev">Fight With Tools: A Dev Blog</a>
                                
                                    > <a id="project-link" href="https://fightwithtools.dev/projects/devblog">Dev Blog</a>
                                
                            </div>
                        
                        
                            <!-- post mode -->
                            <time>Tue Jun 29 2021</time>
                            <!-- front matter dates made in format at https://yaml.org/type/timestamp.html -->
                        
                        
                            <!-- projects mode -->
                        
                        <h1 class="header">
                            Hello World Devblog - Pt. 9
                        </h1>
                        <p class="header">Part 8 of setting up 11ty dev blog.</p>
                    
                </header>
                <main>
                    
<section id="precontent">
    <aside id="toc-container">
        <h2>Contents</h2>
        <nav class="toc">
        <ol><li><a href="#day-9">Day 9</a></li></ol></nav>
    </aside>
</section>

                    <section id="maincontent" class="maincontent">
                    
                        <ol>
<li>Static Site Generator that can build the blog and let me host it on Github Pages</li>
<li>I want to write posts in Markdown because I'm lazy, it's easy, and it is how I take notes now.</li>
<li>I don't want to spend a ton of time doing design work. I'm doing complicated designs for other projects, so I want to pull a theme I like that I can rely on someone else to keep up.</li>
<li>Once it gets going, I want template changes to be easy.</li>
<li>It should be as easy as Jekyll, so I need to be able to build it using GitHub Actions, where I can just commit a template change or Markdown file and away it goes. If I can't figure this out than fk it, just use Jekyll.</li>
<li>I require it to be used by a significant percent of my professional peers so I can get easy answers when something goes wrong.</li>
<li>I want source maps. This is a dev log site which means whatever I do with it should be easy for other developers to read.</li>
</ol>
<ul class="task-list">
<li class="task-list-item">
<p><input disabled="true" type="checkbox" checked="true" class="markdown-todo"></input> Also <a href="https://www.npmjs.com/package/@quasibit/eleventy-plugin-sitemap" target="_blank">the sitemap plugin</a> looks cool. Should grab that later.</p>
</li>
<li class="task-list-item">
<p><input disabled="true" type="checkbox" class="markdown-todo"></input> So does the <a href="https://www.npmjs.com/package/eleventy-plugin-reading-time" target="_blank">reading time one</a>.</p>
</li>
<li class="task-list-item">
<p><input disabled="true" type="checkbox" class="markdown-todo"></input> Also <a href="https://github.com/jdsteinbach/eleventy-plugin-toc/" target="_blank">this TOC plugin</a> mby?</p>
</li>
<li class="task-list-item">
<p><input disabled="true" type="checkbox" checked="true" class="markdown-todo"></input> Use <a href="https://www.11ty.dev/docs/data-deep-merge/" target="_blank">Data Deep Merge</a> in this blog.</p>
</li>
<li class="task-list-item">
<p><input disabled="true" type="checkbox" class="markdown-todo"></input> Decide if I want to render the CSS fancier than just a base file and do per-template splitting.</p>
</li>
</ul>
<s>
<ul class="task-list">
<li class="task-list-item"><input disabled="true" type="checkbox" class="markdown-todo"></input> Can I use the template inside of dinky that already exists instead of copy/pasting it?</li>
</ul>
</s>
<ul class="task-list">
<li class="task-list-item">
<p><input disabled="true" type="checkbox" class="markdown-todo"></input> Is there a way to have permalinks to posts contain metadata without organizing them into subfolders?</p>
</li>
<li class="task-list-item">
<p><input disabled="true" type="checkbox" checked="true" class="markdown-todo"></input> How do I cachebreak files on the basis of new build events? Datetime? <code>site.github.build_revision</code> is <a href="https://github.com/jekyll/github-metadata/blob/master/docs/site.github.md" target="_blank">how Jekyll accomplishes this</a>, but is there a way to push <a href="https://docs.github.com/en/actions/reference/context-and-expression-syntax-for-github-actions#github-context" target="_blank">that</a> <a href="https://stackoverflow.com/questions/54310050/how-to-version-build-artifacts-using-github-actions" target="_blank">into the build process</a> for 11ty?</p>
</li>
<li class="task-list-item">
<p><input disabled="true" type="checkbox" checked="true" class="markdown-todo"></input> Make link text look less shitty. It looks like it is a whole, lighter, font.</p>
</li>
<li class="task-list-item">
<p><input disabled="true" type="checkbox" checked="true" class="markdown-todo"></input> Code blocks do not have good syntax highlighting. I want good syntax highlighting.</p>
</li>
<li class="task-list-item">
<p><input disabled="true" type="checkbox" class="markdown-todo"></input> Build a Markdown-it plugin to take my typing shortcuts <code>[prob, b/c, ...?]</code> and expand them on build.</p>
</li>
<li class="task-list-item">
<p><input disabled="true" type="checkbox" class="markdown-todo"></input> See if we can start Markdown's interpretation of H tags to <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/Heading_Elements#multiple_h1" target="_blank">start at 2, since H1</a> is always pulled from the page title metadata. If it isn't easy, I just have to change my pattern of writing in the MD documents.</p>
</li>
<li class="task-list-item">
<p><input disabled="true" type="checkbox" class="markdown-todo"></input> Should I <a href="https://www.madebymike.com.au/writing/11ty-filters-data-shortcodes/" target="_blank">explore some shortcodes</a>?</p>
</li>
</ul>
<h2 id="day-9" tabindex="-1">Day 9</h2>
<p>Looks like the RSS feed is correct but being served from Github Pages as &quot;application/octet-stream&quot;. I found a Stack Overflow that said it needs a trailing slash. But now that serves it as text/html. Apparently it needs to have an xml ending, but if we want to keep <code>/rss/</code> <a href="https://luosky.com/2012/07/24/create-custom-rss-feed-for-octopress/" target="_blank">we need to create an xml file</a>.</p>
<p><code>git commit -am &quot;Set an xml index for the rss path&quot;</code></p>
<p>That did it! Good to know that Github Pages is <em>very</em> dependent on file endings, and if it doesn't get them it defaults <code>/path-with-no-ending-slash</code> to a downloadable octet-stream and <code>/path-with-ending-slash/</code> to HTML.</p>
<p>I want to build some post-only conditionals into a common base template. The goal here is to make my templates as DRY as possible. No code should have to be repeated. Looks like there <a href="https://bryanlrobinson.com/blog/using-nunjucks-if-expressions-to-create-an-active-navigation-state-in-11ty/" target="_blank">are some tools to do that in Nunjucks</a>.</p>
<p>Ok, so I'm going to split this into a few chunks.</p>
<p>First I'm going to establish a base template, one that all the others can pull off of. This can set up the basic HTML structure, my HTML, HEAD and BODY tags. It can also establish the baseline HTML to make the template work, like the wrapper-classed div and the semantic HTML5 tags within.</p>
<p><code>git commit -am &quot;Setting up some templates to inheret from.&quot;</code></p>
<p>Then I'll want to define the areas that the layouts that pull off the base can pull from. Nunjucks seems to do this with <code>block</code> tags. So I'll set up some of these block tags in the <code>&lt;main&gt;</code> area to start with.</p>
<pre class="language-liquid"><code class="language-liquid">		<span class="token operator">&lt;</span>main<span class="token operator">></span><br>			{<span class="token operator">%</span> block precontent <span class="token operator">%</span>}<br>			{<span class="token operator">%</span> endblock <span class="token operator">%</span>}<br>			<span class="token operator">&lt;</span>section<span class="token operator">></span><br>				{<span class="token operator">%</span> block content <span class="token operator">%</span>}<br>				{{ content <span class="token operator">|</span> safe }}<br>				{<span class="token operator">%</span> endblock <span class="token operator">%</span>}<br>			<span class="token operator">&lt;</span><span class="token operator">/</span>section<span class="token operator">></span><br>			{<span class="token operator">%</span> block postcontent <span class="token operator">%</span>}<br>			{<span class="token operator">%</span> endblock <span class="token operator">%</span>}<br>		<span class="token operator">&lt;</span><span class="token operator">/</span>main<span class="token operator">></span></code></pre>
<p>With the basics in place, I can actually drop the entire content of <code>post.njk</code> and replace it with an <code>extends</code> statement.</p>
<p>{% extends &quot;base.njk&quot; %}</p>
<p>The original dinky template was designed for single page sites. So the post template works pretty much unchanged with no issues. But what about my index page? I'm going to want to add stuff to there.</p>
<p>First of all, I want a chunk of that page that shows my various Work in Progress posts. I've tagged the posts themselves correctly <a href="https://www.11ty.dev/docs/collections/" target="_blank">to create an 11ty collection</a>, but I need to figure out how to call it. And I may want to display it elsewhere, so I'm going to create a component I can easily include that walks through the WiP tag.</p>
<pre class="language-liquid"><code class="language-liquid"><span class="token operator">&lt;</span>ul<span class="token operator">></span><br>    {<span class="token operator">%</span> <span class="token keyword">for</span> post <span class="token keyword">in</span> collections.WiP <span class="token operator">%</span>}<br>	<span class="token operator">&lt;</span>li<span class="token operator">></span>{{post.data.title}}<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span><br>	{<span class="token operator">%</span> <span class="token keyword">endfor</span> <span class="token operator">%</span>}<br><span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span></code></pre>
<p>This is a good start, but what if I only want one category of WiP? Or if I want to separate it out into projects? I need to make this more reusable.</p>
<p>But what about sorting? I may need to sort by date and dates are always messy. To make sure I can get them work right, I should start by adding a date to all post templates. I could add it in the post template itself, but I suspect there may be other pages I want to have the date on, so I'm going to handle it with an if/else chain at the base template.</p>
<pre class="language-liquid"><code class="language-liquid">	<span class="token operator">&lt;</span>header<span class="token operator">></span><br>	<br><br>		<br>		<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> post mode <span class="token operator">--</span><span class="token operator">></span><br>		<span class="token operator">&lt;</span>time<span class="token operator">></span>Tue Jun <span class="token number">29</span> <span class="token number">2021</span><span class="token operator">&lt;</span><span class="token operator">/</span>time<span class="token operator">></span><br>		<br>		<span class="token operator">&lt;</span>h1 class<span class="token operator">=</span>"header"<span class="token operator">></span>Hello World Devblog <span class="token operator">-</span> Pt. <span class="token number">9</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span><br>		<span class="token operator">&lt;</span>p class<span class="token operator">=</span>"header"<span class="token operator">></span>Part <span class="token number">8</span> of setting up <span class="token number">11</span>ty dev blog.&lt;<span class="token operator">/</span>p<span class="token operator">></span><br><br>	<br>	<span class="token operator">&lt;</span><span class="token operator">/</span>header<span class="token operator">></span></code></pre>
<p>Oh, these dates aren't great, they seem to be pulling from some info that isn't totally accurate via the 11ty defaults</p>
<p>Surprising no one, dates are a <a href="https://www.11ty.dev/docs/pitfalls/" target="_blank">Common Pitfall</a>. <a href="https://www.11ty.dev/docs/dates/" target="_blank">11ty documentation advises to directly set the date</a>. And I can't just set them any which way, I need to set them <a href="https://yaml.org/type/timestamp.html" target="_blank">via the YAML date format</a>. Once that's done, I can display them using that built-in toDateString function in a way that makes the dates more human readable.</p>
<p>git commit -am &quot;Adding template parts&quot;</p>
<p>Ok back to my reusable post list. I started with a pretty basic version, but it looks to me like <a href="https://www.trysmudford.com/blog/encapsulated-11ty-components/" target="_blank">the right approach is Macros</a>.</p>
<p>Huh... that didn't work.</p>
<p>Ok maybe this:</p>
<pre class="language-liquid"><code class="language-liquid"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www.<span class="token number">11</span>ty.dev<span class="token operator">/</span>docs<span class="token operator">/</span>collections<span class="token operator">/</span> <span class="token operator">--</span><span class="token operator">></span><br><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> Should I use {{ "abcdef" <span class="token operator">|</span> <span class="token function">reverse</span> }} <span class="token operator">--</span><span class="token operator">></span><br><span class="token operator">&lt;</span>ul<span class="token operator">></span><br>	<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> Collection<span class="token operator">:</span> {{collectionName}} <span class="token operator">--</span><span class="token operator">></span><br>    {<span class="token operator">%</span> <span class="token keyword">for</span> post <span class="token keyword">in</span> collections.{{collectionName}} <span class="token operator">%</span>}<br>	<span class="token operator">&lt;</span>li<span class="token operator">></span>{{post.data.title}}<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span><br>	{<span class="token operator">%</span> <span class="token keyword">endfor</span> <span class="token operator">%</span>}<br><span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span><br></code></pre>
<p>Especially with the variable name in the <code>for</code> deceleration? I don't know if that works the way I think it does and I may even just need <a href="https://www.11ty.dev/docs/languages/nunjucks/#shortcodes" target="_blank">a shortcode instead</a>. But I'd like to get it working. Let's try just echoing out the passed in value first.</p>
<p>Damn, still no go.</p>
<p><code>git commit -am &quot;Get macros in the mix.&quot;</code></p>

                    
                    </section>
                    <section id="postcontent">
                    
                    
                    </section>
                </main>
                <footer>
                    
	<div id="taglist">
		<h6>Tags: </h6>
        <ul><li><a href="https://fightwithtools.dev/tag/starters">Starters</a></li><li><a href="https://fightwithtools.dev/tag/11ty">11ty</a></li><li><a href="https://fightwithtools.dev/tag/node">Node</a></li><li><a href="https://fightwithtools.dev/tag/sass">Sass</a></li><li><a href="https://fightwithtools.dev/tag/github-actions">Github Actions</a></li><li><a href="https://fightwithtools.dev/tag/wip">WiP</a></li></ul>
	</div>

                    
                        <p>
                            <small>Hosted on <a href="https://pages.github.com" target="_blank">GitHub Pages</a> based on <a href="https://github.com/pages-themes/dinky" target="_blank">the Dinky theme</a></small>
                        </p>
                    
                    
                </footer>
            </div>
            <!--[if !IE]><script>fixScale(document);</script><![endif]-->
        </body>
    </html>
